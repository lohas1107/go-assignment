# K8S

| Rolling upgrade                          | Re-create                   |
|:-----------------------------------------|:----------------------------|
| 新版本在整個叢集的節點上逐漸部署，同時逐步淘汰舊版本。              | 所有舊版本的應用程序實例在啟動新版本實例之前被同時終止。 |
| 沒有停機時間，確保舊版本平穩過渡到新版本，過程中都有一定數量的新舊服務同時運行。 | 在舊版本服務終止到啟動新版服務之間會有短暫停機時間。  |


#### rolling upgrade 與 readiness probe 的關係
readiness probe 用於確定新 Pod 是否準備好接受流量。
只有在 readiness probe 顯示 Pod 已準備就緒時，Kubernetes 才會將流量導到該 Pod。